<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Quản lý đặt phòng</title>

  <!-- Flatpickr -->
  <link rel="stylesheet" href="libs/flatpickr.min.css">
  <script src="libs/flatpickr.min.js"></script>

  <!-- FontAwesome + CSS riêng -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
  <link rel="stylesheet" href="RoomBooking.css">
</head>

<body>
  <div class="booking-page-container">
    <div class="booking-header-toolbar">
      <h2 id="bookingPageTitle">
        Quản lý đặt phòng: <span id="currentRoomName">--</span>
      </h2>
    </div>

    <div class="booking-content">
      <div class="form-container">
        <h3 class="form-title">Thông tin Khách hàng & Đặt phòng</h3>

        <div class="form-group">
          <label for="customerName">Tên khách hàng (*)</label>
          <input type="text" id="customerName" placeholder="Nhập tên khách hàng" required>
        </div>

        <div class="form-group">
          <label for="phoneNumber">Số điện thoại (*)</label>
          <input type="tel" id="phoneNumber" placeholder="Nhập SĐT" required>
        </div>

        <div class="form-group">
          <label for="customerQuantity">Số lượng khách</label>
          <input type="number" id="customerQuantity" value="2" min="1" max="50">
        </div>

        <div class="form-group">
          <label for="startDate">Ngày đặt phòng (*)</label>
          <div class="input-icon-wrapper">
            <input type="text" id="startDate" placeholder="Chọn ngày" readonly>
            <button class="calendar-btn" id="openCalendarBtn">
              <i class="fa-solid fa-calendar-days"></i>
            </button>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group time-group">
            <label for="startTime">Giờ bắt đầu (*)</label>
            <input type="time" id="startTime" required>
          </div>

          <div class="form-group time-group">
            <label for="endTime">Giờ kết thúc (*)</label>
            <input type="time" id="endTime" required>
          </div>
        </div>

        <p class="warning-message" id="timeWarning"></p>

        <div class="form-group">
          <label for="deposit">Tiền cọc (VNĐ)</label>
          <input type="number" id="deposit" value="0" min="0">
        </div>

        <div class="form-actions">
          <button id="btnConfirmBooking" class="action-btn primary-btn">
            <i class="fa-solid fa-check"></i> Xác nhận & Mở phòng
          </button>
          <button id="btnCancelBooking" class="action-btn secondary-btn">
            <i class="fa-solid fa-xmark"></i> Hủy
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- JS -->
  <script src="RoomBooking.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // ✅ Kích hoạt Flatpickr
      const dateInput = document.getElementById("startDate");
      const openCalendarBtn = document.getElementById("openCalendarBtn");

      const picker = flatpickr(dateInput, {
        dateFormat: "Y-m-d",
        minDate: "today",
        allowInput: true
      });

      // Khi nhấn icon => mở lịch
      openCalendarBtn.addEventListener("click", (e) => {
        e.preventDefault();
        picker.open();
      });

      // ✅ Gọi logic chính
      if (window.initRoomBookingPage) {
        window.initRoomBookingPage();
      }
    });
  </script>
</body>
</html>
