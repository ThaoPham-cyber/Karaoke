<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <title>Thống kê - Karaoke Manager</title>

  <link rel="stylesheet" href="Statistics.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
  <div class="stats-wrap">

    <!-- TOP ROW CARDS -->
    <div class="cards-row">
      <div class="card stat-card">
        <div class="card-title">Doanh thu (khoảng lọc)</div>
        <div class="card-value" id="totalRevenue">0 VND</div>
        <div class="card-sub" id="revenueRate">+0%</div>
      </div>

      <div class="card stat-card">
        <div class="card-title">Khách hàng</div>
        <div class="card-value" id="customerCount">0</div>
        <div class="card-sub" id="customerRate">+0%</div>
      </div>

      <div class="card stat-card">
        <div class="card-title">Tổng phòng</div>
        <div class="card-value" id="roomCount">0 phòng</div>
        <div class="card-sub" id="roomUsage">0% đang dùng</div>
      </div>

      <div class="card stat-card">
        <div class="card-title">Trung bình / tháng</div>
        <div class="card-value" id="avgPerMonth">0 VND</div>
        <div class="card-sub" id="avgRate">—</div>
      </div>
    </div>

    <!-- FILTERS -->
    <div class="filter-row">
      <div class="filter-left">
        <label>Từ:
          <input type="date" id="fromDate">
        </label>
        <label>Đến:
          <input type="date" id="toDate">
        </label>

        <label>Thời gian:
          <select id="granularity">
            <option value="month">Theo tháng</option>
            <option value="day">Theo ngày</option>
            <option value="year">Theo năm</option>
          </select>
        </label>

        <button id="applyFilterBtn" class="btn">Lọc</button>
        <button id="resetBtn" class="btn btn-ghost">Reset</button>
      </div>

      <div class="filter-right">
        <button id="refreshBtn" class="btn">Làm mới</button>
      </div>
    </div>

    <!-- CHARTS ROW -->
    <div class="charts-row">
      <div class="chart-panel">
        <h3>Doanh thu</h3>
        <canvas id="revenueChart"></canvas>
      </div>

      <div class="chart-panel">
        <h3>Xu hướng khách hàng</h3>
        <canvas id="customerChart"></canvas>
      </div>
    </div>

    <!-- BOTTOM ROW: Pie + Top services -->
    <div class="charts-row bottom">
      <div class="chart-panel">
        <h3>Phân bố loại phòng</h3>
        <canvas id="roomPieChart"></canvas>
      </div>

      <div class="chart-panel top-services">
        <h3>Top dịch vụ bán chạy</h3>
        <ul id="topServicesList" class="top-services-list"></ul>
      </div>
    </div>

  </div>

  <script src="Statistics.js"></script>
</body>
</html>
